(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const bn=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},xn=t=>({httpHandler:t.httpHandler()});var bt;(function(t){t.HEADER="header",t.QUERY="query"})(bt||(bt={}));var xt;(function(t){t.HEADER="header",t.QUERY="query"})(xt||(xt={}));var le;(function(t){t.HTTP="http",t.HTTPS="https"})(le||(le={}));var Ee;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Ee||(Ee={}));var St;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(St||(St={}));const je="__smithy_context";var Et;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(Et||(Et={}));var At;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(At||(At={}));class I{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new I({...e,headers:{...e.headers}});return r.query&&(r.query=Sn(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return I.clone(this)}}function Sn(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Ae{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}const En=t=>e=>async r=>{if(!I.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},An={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vn=t=>({applyToStack:e=>{e.add(En(t),An)}}),Cn=()=>(t,e)=>async r=>{var n,s;try{const i=await t(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=d,h=l??e.inputFilterSensitiveLog,m=u??e.outputFilterSensitiveLog,{$metadata:p,...y}=i.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:o,commandName:a,input:h(r.input),output:m(y),metadata:p}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l}=d,u=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:o,commandName:a,input:u(r.input),error:i,metadata:i.$metadata}),i}},Rn={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},kn=t=>({applyToStack:e=>{e.add(Cn(),Rn)}}),vt="X-Amzn-Trace-Id",Bn="AWS_LAMBDA_FUNCTION_NAME",Dn="_X_AMZN_TRACE_ID",Tn=t=>e=>async r=>{const{request:n}=r;if(!I.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(vt))return e(r);const s=process.env[Bn],i=process.env[Dn],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[vt]=i),e({...r,request:n})},Mn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},In=t=>({applyToStack:e=>{e.add(Tn(t),Mn)}});function Fn(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const On=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Sr=t=>On.test(t)||t.startsWith("[")&&t.endsWith("]"),$n=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),et=(t,e=!1)=>{if(!e)return $n.test(t);const r=t.split(".");for(const n of r)if(!et(n))return!1;return!0},ve={},fe="endpoints";function W(t){return typeof t!="object"||t==null?t:"ref"in t?`$${W(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(W).join(", ")})`:JSON.stringify(t,null,2)}class F extends Error{constructor(e){super(e),this.name="EndpointError"}}const Pn=(t,e)=>t===e,_n=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new F(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new F(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Er=(t,e)=>_n(e).reduce((r,n)=>{if(typeof r!="object")throw new F(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),Nn=t=>t!=null,Un=t=>!t,Fe={[le.HTTP]:80,[le.HTTPS]:443},Ln=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:h,port:m,protocol:p="",path:y="",query:g={}}=t,w=new URL(`${p}//${h}${m?`:${m}`:""}${y}`);return w.search=Object.entries(g).map(([S,C])=>`${S}=${C}`).join("&"),w}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const c=o.slice(0,-1);if(!Object.values(le).includes(c))return null;const d=Sr(s),l=r.includes(`${n}:${Fe[c]}`)||typeof t=="string"&&t.includes(`${n}:${Fe[c]}`),u=`${n}${l?`:${Fe[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},Hn=(t,e)=>t===e,jn=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),zn=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),qn={booleanEquals:Pn,getAttr:Er,isSet:Nn,isValidHostLabel:et,not:Un,parseURL:Ln,stringEquals:Hn,substring:jn,uriEncode:zn},Ar=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[c,d]=a.split("#");r.push(Er(n[c],d))}else r.push(n[a]);s=o+1}return r.join("")},Gn=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],De=(t,e,r)=>{if(typeof t=="string")return Ar(t,r);if(t.fn)return vr(t,r);if(t.ref)return Gn(t,r);throw new F(`'${e}': ${String(t)} is not a string, function or reference.`)},vr=({fn:t,argv:e},r)=>{const n=e.map(i=>["boolean","number"].includes(typeof i)?i:De(i,"arg",r)),s=t.split(".");return s[0]in ve&&s[1]!=null?ve[s[0]][s[1]](...n):qn[t](...n)},Vn=({assign:t,...e},r)=>{var s,i;if(t&&t in r.referenceRecord)throw new F(`'${t}' is already defined in Reference Record.`);const n=vr(e,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,`${fe} evaluateCondition: ${W(e)} = ${W(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},tt=(t=[],e)=>{var n,s;const r={};for(const i of t){const{result:o,toAssign:a}=Vn(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,`${fe} assign: ${a.name} := ${W(a.value)}`))}return{result:!0,referenceRecord:r}},Wn=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=De(i,"Header value entry",e);if(typeof o!="string")throw new F(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Cr=(t,e)=>{if(Array.isArray(t))return t.map(r=>Cr(r,e));switch(typeof t){case"string":return Ar(t,e);case"object":if(t===null)throw new F(`Unexpected endpoint property: ${t}`);return Rr(t,e);case"boolean":return t;default:throw new F(`Unexpected endpoint property type: ${typeof t}`)}},Rr=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Cr(s,e)}),{}),Kn=(t,e)=>{const r=De(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new F(`Endpoint URL must be a string, got ${typeof r}`)},Qn=(t,e)=>{var l,u;const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=tt(r,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:d}=n;return(u=(l=e.logger)==null?void 0:l.debug)==null||u.call(l,`${fe} Resolving endpoint from template: ${W(n)}`),{...d!=null&&{headers:Wn(d,o)},...c!=null&&{properties:Rr(c,o)},url:Kn(a,o)}},Xn=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=tt(r,e);if(s)throw new F(De(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Zn=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=tt(r,e);if(s)return kr(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},kr=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=Qn(r,e);if(n)return n}else if(r.type==="error")Xn(r,e);else if(r.type==="tree"){const n=Zn(r,e);if(n)return n}else throw new F(`Unknown endpoint rule: ${r}`);throw new F("Rules evaluation failed")},Jn=(t,e)=>{var d,l,u,h,m;const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;(l=(d=e.logger)==null?void 0:d.debug)==null||l.call(d,`${fe} Initial EndpointParams: ${W(r)}`);const o=Object.entries(s).filter(([,p])=>p.default!=null).map(([p,y])=>[p,y.default]);if(o.length>0)for(const[p,y]of o)r[p]=r[p]??y;const a=Object.entries(s).filter(([,p])=>p.required).map(([p])=>p);for(const p of a)if(r[p]==null)throw new F(`Missing required parameter: '${p}'`);const c=kr(i,{endpointParams:r,logger:n,referenceRecord:{}});if((u=e.endpointParams)!=null&&u.Endpoint)try{const p=new URL(e.endpointParams.Endpoint),{protocol:y,port:g}=p;c.url.protocol=y,c.url.port=g}catch{}return(m=(h=e.logger)==null?void 0:h.debug)==null||m.call(h,`${fe} Resolved endpoint: ${W(c)}`),c},Br=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!Br(r))return!1;return!0}return!(!et(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Sr(t))},Yn=t=>{const e=t.split(":");if(e.length<6)return null;const[r,n,s,i,o,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},es=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],ts="1.1",rs={partitions:es,version:ts};let ns=rs;const ss=t=>{const{partitions:e}=ns;for(const n of e){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Dr={isVirtualHostableS3Bucket:Br,parseArn:Yn,partition:ss};ve.aws=Dr;const Ct="user-agent",Oe="x-amz-user-agent",Rt=" ",$e="/",is=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,os=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,kt="-",as=t=>(e,r)=>async n=>{var u,h;const{request:s}=n;if(!I.isInstance(s))return e(n);const{headers:i}=s,o=((u=r==null?void 0:r.userAgent)==null?void 0:u.map(Pe))||[],a=(await t.defaultUserAgentProvider()).map(Pe),c=((h=t==null?void 0:t.customUserAgent)==null?void 0:h.map(Pe))||[],d=[].concat([...a,...o,...c]).join(Rt),l=[...a.filter(m=>m.startsWith("aws-sdk-")),...c].join(Rt);return t.runtime!=="browser"?(l&&(i[Oe]=i[Oe]?`${i[Ct]} ${l}`:l),i[Ct]=d):i[Oe]=d,e({...n,request:s})},Pe=t=>{var o;const e=t[0].split($e).map(a=>a.replace(is,kt)).join($e),r=(o=t[1])==null?void 0:o.replace(os,kt),n=e.indexOf($e),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},cs={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ds=t=>({applyToStack:e=>{e.add(as(t),cs)}});var Bt;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(Bt||(Bt={}));const us=!1,ls=!1,Te=t=>t[je]||(t[je]={}),V=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Tr=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),Dt=t=>Tr(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,fs=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return Dt(e);const n=await e();return Dt(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return Tr(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};function hs(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const ms=(t,e)=>(r,n)=>async s=>{var d;const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),o=hs(t.httpAuthSchemes),a=Te(n),c=[];for(const l of i){const u=o.get(l.schemeId);if(!u){c.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}const h=u.identityProvider(await e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:m={},signingProperties:p={}}=((d=l.propertiesExtractor)==null?void 0:d.call(l,t,n))||{};l.identityProperties=Object.assign(l.identityProperties||{},m),l.signingProperties=Object.assign(l.signingProperties||{},p),a.selectedHttpAuthScheme={httpAuthOption:l,identity:await h(l.identityProperties),signer:u.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(s)},ps=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),xs(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!bs(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},gs=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ys=/(\d+\.){3}\d+/,ws=/\.\./,bs=t=>gs.test(t)&&!ys.test(t)&&!ws.test(t),xs=t=>{const[e,r,n,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},Ss=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},Es=async t=>{};function As(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const Ce=t=>{if(typeof t=="string")return Ce(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let o;return i&&(o=As(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},Mr=t=>typeof t=="object"?"url"in t?Ce(t.url):t:Ce(t),vs=async(t,e,r,n)=>{if(!r.endpoint){const o=await Es(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(Mr(o)))}const s=await Cs(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},Cs=async(t,e,r)=>{var i;const n={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Ss(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await ps(n),n},Rs=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c,d;const i=await vs(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(c=n.authSchemes)==null?void 0:c[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const l=Te(n),u=(d=l==null?void 0:l.selectedHttpAuthScheme)==null?void 0:d.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},ks=(t,e)=>r=>async n=>{const{response:s}=await r(n);try{const i=await e(s,t);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+o,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},Bs=(t,e)=>(r,n)=>async s=>{var a;const i=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await e(s.input,{...t,endpoint:i});return r({...s,request:o})},Ds={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},rt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ts(t,e,r){return{applyToStack:n=>{n.add(ks(t,r),Ds),n.add(Bs(t,e),rt)}}}const Ir={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:rt.name},Ms=(t,e)=>({applyToStack:r=>{r.addRelativeTo(Rs({config:t,instructions:e}),Ir)}}),Is=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>Mr(await V(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:V(t.useDualstackEndpoint??!1),useFipsEndpoint:V(t.useFipsEndpoint??!1)}},Fs={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ir.name},Os=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ms(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Fs)}});rt.name;const $s=t=>e=>{throw e},Ps=(t,e)=>{},_s=t=>(e,r)=>async n=>{if(!I.isInstance(n.request))return e(n);const i=Te(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,d=await e({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||$s)(o));return(c.successHandler||Ps)(d.response,o),d};var ee;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ee||(ee={}));const Re=3,Ns=ee.STANDARD,Us=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Ls=["TimeoutError","RequestTimeout","RequestTimeoutException"],Hs=[500,502,503,504],js=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],zs=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},Fr=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Us.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},Or=t=>{var e;return zs(t)||Ls.includes(t.name)||js.includes((t==null?void 0:t.code)||"")||Hs.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},qs=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Or(t)}return!1};class Gs{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Fr(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const ze=100,$r=20*1e3,Vs=500,Tt=500,Ws=5,Ks=10,Qs=1,Xs="amz-sdk-invocation-id",Zs="amz-sdk-request",Js=()=>{let t=ze;return{computeNextBackoffDelay:n=>Math.floor(Math.min($r,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},Mt=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min($r,t),getRetryCost:()=>r});class Pr{constructor(e){this.maxAttempts=e,this.mode=ee.STANDARD,this.capacity=Tt,this.retryBackoffStrategy=Js(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return Mt({retryDelay:ze,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Vs:ze);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,Mt({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Tt,this.capacity+(e.getRetryCost()??Qs))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Re}`),Re}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Ks:Ws}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class Ys{constructor(e,r){this.maxAttemptsProvider=e,this.mode=ee.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Gs,this.standardRetryStrategy=new Pr(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let pe;const ei=new Uint8Array(16);function ti(){if(!pe&&(pe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pe(ei)}const R=[];for(let t=0;t<256;++t)R.push((t+256).toString(16).slice(1));function ri(t,e=0){return R[t[e+0]]+R[t[e+1]]+R[t[e+2]]+R[t[e+3]]+"-"+R[t[e+4]]+R[t[e+5]]+"-"+R[t[e+6]]+R[t[e+7]]+"-"+R[t[e+8]]+R[t[e+9]]+"-"+R[t[e+10]]+R[t[e+11]]+R[t[e+12]]+R[t[e+13]]+R[t[e+14]]+R[t[e+15]]}const ni=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),It={randomUUID:ni};function si(t,e,r){if(It.randomUUID&&!e&&!t)return It.randomUUID();t=t||{};const n=t.random||(t.rng||ti)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return ri(n)}const ii=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),oi=t=>{const{retryStrategy:e}=t,r=V(t.maxAttempts??Re);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await V(t.retryMode)()===ee.ADAPTIVE?new Ys(r):new Pr(r))}};class _r{trace(){}debug(){}info(){}warn(){}error(){}}const Q=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},j=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,ke=()=>{let t=[],e=[],r=!1;const n=new Set,s=u=>u.sort((h,m)=>Ft[m.step]-Ft[h.step]||Ot[m.priority||"normal"]-Ot[h.priority||"normal"]),i=u=>{let h=!1;const m=p=>{const y=Q(p.name,p.aliases);if(y.includes(u)){h=!0;for(const g of y)n.delete(g);return!1}return!0};return t=t.filter(m),e=e.filter(m),h},o=u=>{let h=!1;const m=p=>{if(p.middleware===u){h=!0;for(const y of Q(p.name,p.aliases))n.delete(y);return!1}return!0};return t=t.filter(m),e=e.filter(m),h},a=u=>{var h;return t.forEach(m=>{u.add(m.middleware,{...m})}),e.forEach(m=>{u.addRelativeTo(m.middleware,{...m})}),(h=u.identifyOnResolve)==null||h.call(u,l.identifyOnResolve()),u},c=u=>{const h=[];return u.before.forEach(m=>{m.before.length===0&&m.after.length===0?h.push(m):h.push(...c(m))}),h.push(u),u.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?h.push(m):h.push(...c(m))}),h},d=(u=!1)=>{const h=[],m=[],p={};return t.forEach(g=>{const w={...g,before:[],after:[]};for(const S of Q(w.name,w.aliases))p[S]=w;h.push(w)}),e.forEach(g=>{const w={...g,before:[],after:[]};for(const S of Q(w.name,w.aliases))p[S]=w;m.push(w)}),m.forEach(g=>{if(g.toMiddleware){const w=p[g.toMiddleware];if(w===void 0){if(u)return;throw new Error(`${g.toMiddleware} is not found when adding ${j(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&w.after.push(g),g.relation==="before"&&w.before.push(g)}}),s(h).map(c).reduce((g,w)=>(g.push(...w),g),[])},l={add:(u,h={})=>{const{name:m,override:p,aliases:y}=h,g={step:"initialize",priority:"normal",middleware:u,...h},w=Q(m,y);if(w.length>0){if(w.some(S=>n.has(S))){if(!p)throw new Error(`Duplicate middleware name '${j(m,y)}'`);for(const S of w){const C=t.findIndex(N=>{var ie;return N.name===S||((ie=N.aliases)==null?void 0:ie.some(Ie=>Ie===S))});if(C===-1)continue;const v=t[C];if(v.step!==g.step||g.priority!==v.priority)throw new Error(`"${j(v.name,v.aliases)}" middleware with ${v.priority} priority in ${v.step} step cannot be overridden by "${j(m,y)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(C,1)}}for(const S of w)n.add(S)}t.push(g)},addRelativeTo:(u,h)=>{const{name:m,override:p,aliases:y}=h,g={middleware:u,...h},w=Q(m,y);if(w.length>0){if(w.some(S=>n.has(S))){if(!p)throw new Error(`Duplicate middleware name '${j(m,y)}'`);for(const S of w){const C=e.findIndex(N=>{var ie;return N.name===S||((ie=N.aliases)==null?void 0:ie.some(Ie=>Ie===S))});if(C===-1)continue;const v=e[C];if(v.toMiddleware!==g.toMiddleware||v.relation!==g.relation)throw new Error(`"${j(v.name,v.aliases)}" middleware ${v.relation} "${v.toMiddleware}" middleware cannot be overridden by "${j(m,y)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(C,1)}}for(const S of w)n.add(S)}e.push(g)},clone:()=>a(ke()),use:u=>{u.applyToStack(l)},remove:u=>typeof u=="string"?i(u):o(u),removeByTag:u=>{let h=!1;const m=p=>{const{tags:y,name:g,aliases:w}=p;if(y&&y.includes(u)){const S=Q(g,w);for(const C of S)n.delete(C);return h=!0,!1}return!0};return t=t.filter(m),e=e.filter(m),h},concat:u=>{var m;const h=a(ke());return h.use(u),h.identifyOnResolve(r||h.identifyOnResolve()||(((m=u.identifyOnResolve)==null?void 0:m.call(u))??!1)),h},applyToStack:a,identify:()=>d(!0).map(u=>{const h=u.step??u.relation+" "+u.toMiddleware;return j(u.name,u.aliases)+" - "+h}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,h)=>{for(const m of d().map(p=>p.middleware).reverse())u=m(u,h);return r&&console.log(l.identify()),u}};return l},Ft={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ot={high:3,normal:2,low:1};class ai{constructor(e){this.middlewareStack=ke(),this.config=e}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(e).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const K={},re=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e);K[n]=t,re[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e),s=t+26;K[n]=s,re[s]=n}for(let t=0;t<10;t++){K[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;K[e]=r,re[r]=e}K["+"]=62;re[62]="+";K["/"]=63;re[63]="/";const Y=6,ae=8,ci=63,nt=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let d=s,l=s+3;d<=l;d++)if(t[d]!=="="){if(!(t[d]in K))throw new TypeError(`Invalid character ${t[d]} in base64 string.`);i|=K[t[d]]<<(l-d)*Y,o+=Y}else i>>=Y;const a=s/4*3;i>>=o%ae;const c=Math.floor(o/ae);for(let d=0;d<c;d++){const l=(c-d-1)*ae;n.setUint8(a+d,(i&255<<l)>>l)}}return new Uint8Array(r)},te=t=>new TextEncoder().encode(t),ce=t=>typeof t=="string"?te(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),Nr=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function Ur(t){let e;typeof t=="string"?e=te(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let o=0,a=0;for(let d=i,l=Math.min(i+3,e.length);d<l;d++)o|=e[d]<<(l-d-1)*ae,a+=ae;const c=Math.ceil(a/Y);o<<=c*Y-a;for(let d=1;d<=c;d++){const l=(c-d)*Y;s+=re[(o&ci<<l)>>l]}s+="==".slice(0,4-c)}return s}function di(t,e="utf-8"){return e==="base64"?Ur(t):Nr(t)}function ui(t,e){return e==="base64"?Z.mutate(nt(t)):Z.mutate(te(t))}class Z extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return ui(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,Z.prototype),e}transformToString(e="utf-8"){return di(this,e)}}const G=t=>encodeURIComponent(t).replace(/[!'()*]/g,li),li=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function fi(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=G(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${G(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${G(n)}`),e.push(s)}}return e.join("&")}function hi(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const _e={supported:void 0};class st{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new st(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),_e.supported===void 0&&(_e.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){const w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let o=e.path;const a=fi(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){const w=e.username??"",S=e.password??"";c=`${w}:${S}@`}const{port:d,method:l}=e,u=`${e.protocol}//${c}${e.hostname}${d?`:${d}`:""}${o}`,h=l==="GET"||l==="HEAD"?void 0:e.body,m={body:h,headers:new Headers(e.headers),method:l,credentials:i};h&&(m.duplex="half"),typeof AbortController<"u"&&(m.signal=r),_e.supported&&(m.keepalive=s);let p=()=>{};const y=new Request(u,m),g=[fetch(y).then(w=>{const S=w.headers,C={};for(const N of S.entries())C[N[0]]=N[1];return w.body!=null?{response:new Ae({headers:C,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(N=>({response:new Ae({headers:C,reason:w.statusText,statusCode:w.status,body:N})}))}),hi(n)];return r&&g.push(new Promise((w,S)=>{const C=()=>{const v=new Error("Request aborted");v.name="AbortError",S(v)};if(typeof r.addEventListener=="function"){const v=r;v.addEventListener("abort",C,{once:!0}),p=()=>v.removeEventListener("abort",C)}else r.onabort=C})),Promise.race(g).finally(p)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const mi=t=>typeof Blob=="function"&&t instanceof Blob?pi(t):gi(t);async function pi(t){const e=await yi(t),r=nt(e);return new Uint8Array(r)}async function gi(t){const e=[],r=t.getReader();let n=!1,s=0;for(;!n;){const{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}const i=new Uint8Array(s);let o=0;for(const a of e)i.set(a,o),o+=a.length;return i}function yi(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const Lr={},qe={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Lr[t]=e,qe[e]=t}function Hr(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in qe)e[r/2]=qe[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function M(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Lr[t[r]];return e}const wi=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Z.mutate(t);if(!t)return Z.mutate(new Uint8Array);const r=e.streamCollector(t);return Z.mutate(await r)};class jr{constructor(){this.middlewareStack=ke()}static classBuilder(){return new bi}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:u}){for(const g of s.bind(this)(u,e,r,n))this.middlewareStack.use(g);const h=e.concat(this.middlewareStack),{logger:m}=r,p={logger:m,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[je]:{commandInstance:this,...d},...l},{requestHandler:y}=r;return h.resolve(g=>y.handle(g.request,n||{}),p)}}class bi{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends jr{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,s,i){return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const xi=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Vr.warn(Gr(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},Si=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},zr=t=>Ei(t,32),Ei=(t,e)=>{const r=Si(t);if(r!==void 0&&Ai(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},Ai=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},vi=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},qr=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},x=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Vr.warn(Gr(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},Ci=t=>{if(t==null)return;const e=qr(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},$t=t=>typeof t=="string"?Ri(t):xi(t),Ri=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},Gr=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Vr={warn:console.warn};class it extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,it.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const P=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},ki=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const s=Di(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw P(o,e)},Bi=t=>({output:e,parsedBody:r,errorCode:n})=>{ki({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Di=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Ti=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Mi=t=>{const e=[];for(const r in Ee){const n=Ee[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Ii=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},Fi=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},Oi=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},$i=t=>({...Mi(t),...Fi(t)}),Pi=t=>({...Ii(t),...Oi(t)});function Pt(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const Ge=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};Ge.prototype=Object.create(String.prototype,{constructor:{value:Ge,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Ge,String);function O(t,e,r){let n,s,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return s=e,i=r,_i(n,s,i);i=e}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}Wr(n,null,i,o)}return n}const b=(t,e)=>{const r={};for(const n in e)Wr(r,t,e,n);return r},_i=(t,e,r)=>O(t,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[e,i()]:n[s]=[e,i],n),{})),Wr=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=Ni,c=Ui,d=n]=o;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=o:c&&(t[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[n]=i)}},Ni=t=>t!=null,Ui=t=>t,Li=(t,e,r,n,s,i)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,i?o.split("/").map(a=>Pt(a)).join("/"):Pt(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},_t=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},k=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(k);if(typeof t=="object"){const e={};for(const r of Object.keys(t))t[r]!=null&&(e[r]=k(t[r]));return e}return t},Hi=t=>(t==null?void 0:t.body)instanceof ReadableStream,ji=t=>(e,r)=>async n=>{var o;let s=await t.retryStrategy();const i=await t.maxAttempts();if(zi(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0;const{request:u}=n,h=I.isInstance(u);for(h&&(u.headers[Xs]=si());;)try{h&&(u.headers[Zs]=`attempt=${d+1}; max=${i}`);const{response:m,output:p}=await e(n);return s.recordSuccess(a),p.$metadata.attempts=d+1,p.$metadata.totalRetryDelay=l,{response:m,output:p}}catch(m){const p=qi(m);if(c=ii(m),h&&Hi(u))throw(o=r.logger instanceof _r?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,p)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=a.getRetryCount();const y=a.getRetryDelay();l+=y,await new Promise(g=>setTimeout(g,y))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},zi=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",qi=t=>{const e={error:t,errorType:Gi(t)},r=Wi(t.$response);return r&&(e.retryAfterHint=r),e},Gi=t=>Fr(t)?"THROTTLING":Or(t)?"TRANSIENT":qs(t)?"SERVER_ERROR":"CLIENT_ERROR",Kr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Vi=t=>({applyToStack:e=>{e.add(ji(t),Kr)}}),Wi=t=>{if(!Ae.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},Ki={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Kr.name},Qi=t=>({applyToStack:e=>{e.addRelativeTo(_s(),Ki)}});class Xi{constructor(e){this.authSchemes=new Map;for(const[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const Zi=t=>e=>Qr(e)&&e.expiration.getTime()-Date.now()<t,Ji=3e5,Yi=Zi(Ji),Qr=t=>t.expiration!==void 0,eo=(t,e,r)=>{if(t===void 0)return;const n=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,o,a=!1;const c=async d=>{i||(i=n(d));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return e===void 0?async d=>((!o||d!=null&&d.forceRefresh)&&(s=await c(d)),s):async d=>((!o||d!=null&&d.forceRefresh)&&(s=await c(d)),a?s:r(s)?(e(s)&&await c(d),s):(a=!0,s))},ge=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e};function to(t,e){return new ro(t,e)}class ro{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const i of this.resolvePathStack)i(this.path);return new I({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,s){return this.resolvePathStack.push(i=>{this.path=Li(i,this.input,e,r,n,s)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}const no=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),Nt="content-length";function so(t){return e=>async r=>{const n=r.request;if(I.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Nt)===-1)try{const o=t(s);n.headers={...n.headers,[Nt]:String(o)}}catch{}}return e({...r,request:n})}}const io={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},oo=t=>({applyToStack:e=>{e.add(so(t.bodyLengthChecker),io)}}),Ut=t=>{var e,r;return Ae.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},Xr=t=>new Date(Date.now()+t),ao=(t,e)=>Math.abs(Xr(e).getTime()-t)>=3e5,Lt=(t,e)=>{const r=Date.parse(t);return ao(r,e)?r-Date.now():e},de=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},co=async t=>{var d,l,u;const e=de("context",t.context),r=de("config",t.config),n=(u=(l=(d=e.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:u[0],i=await de("signer",r.signer)(n),o=t==null?void 0:t.signingRegion,a=t==null?void 0:t.signingRegionSet,c=t==null?void 0:t.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}};class uo{async sign(e,r,n){var u;if(!I.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await co(n),{config:i,signer:o}=s;let{signingRegion:a,signingName:c}=s;const d=n.context;if(((u=d==null?void 0:d.authSchemes)==null?void 0:u.length)??0>1){const[h,m]=d.authSchemes;(h==null?void 0:h.name)==="sigv4a"&&(m==null?void 0:m.name)==="sigv4"&&(a=(m==null?void 0:m.signingRegion)??a,c=(m==null?void 0:m.signingName)??c)}return await o.sign(e,{signingDate:Xr(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{const n=r.ServerTime??Ut(r.$response);if(n){const s=de("config",e.config),i=s.systemClockOffset;s.systemClockOffset=Lt(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){const n=Ut(e);if(n){const s=de("config",r.config);s.systemClockOffset=Lt(n,s.systemClockOffset)}}}const lo=(t,e,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=t());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return e===void 0?async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))},fo="X-Amz-Algorithm",ho="X-Amz-Credential",Zr="X-Amz-Date",mo="X-Amz-SignedHeaders",po="X-Amz-Expires",Jr="X-Amz-Signature",Yr="X-Amz-Security-Token",en="authorization",tn=Zr.toLowerCase(),go="date",yo=[en,tn,go],wo=Jr.toLowerCase(),Ve="x-amz-content-sha256",bo=Yr.toLowerCase(),xo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},So=/^proxy-/,Eo=/^sec-/,Ne="AWS4-HMAC-SHA256",Ao="AWS4-HMAC-SHA256-PAYLOAD",vo="UNSIGNED-PAYLOAD",Co=50,rn="aws4_request",Ro=60*60*24*7,ye={},Ue=[],Le=(t,e,r)=>`${t}/${e}/${r}/${rn}`,ko=async(t,e,r,n,s)=>{const i=await Ht(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${s}:${M(i)}:${e.sessionToken}`;if(o in ye)return ye[o];for(Ue.push(o);Ue.length>Co;)delete ye[Ue.shift()];let a=`AWS4${e.secretAccessKey}`;for(const c of[r,n,s,rn])a=await Ht(t,a,c);return ye[o]=a},Ht=(t,e,r)=>{const n=new t(e);return n.update(ce(r)),n.digest()},jt=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in xo||e!=null&&e.has(i)||So.test(i)||Eo.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},Bo=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t).sort()){if(n.toLowerCase()===wo)continue;e.push(n);const s=t[n];typeof s=="string"?r[n]=`${G(n)}=${G(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,o)=>i.concat([`${G(n)}=${G(o)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},Do=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",He=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===Ve)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Do(e)){const n=new r;return n.update(ce(e)),M(await n.digest())}return vo};class To{format(e){const r=[];for(const i of Object.keys(e)){const o=te(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=te(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Io.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Mo.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const u=new Uint8Array(17);return u[0]=9,u.set(Hr(e.value.replace(/\-/g,"")),1),u}}}var zt;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(zt||(zt={}));const Mo=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Io=class nn{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&qt(r),new nn(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&qt(e),parseInt(M(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function qt(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const Fo=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},Oo=(t,e={})=>{var s;const{headers:r,query:n={}}=I.clone(t);for(const i of Object.keys(r)){const o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}},Gt=t=>{t=I.clone(t);for(const e of Object.keys(t.headers))yo.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},$o=t=>Po(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Po=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Vt{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new To,this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=V(n),this.credentialProvider=V(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const u=c??await this.regionProvider(),{longDate:h,shortDate:m}=we(n);if(s>Ro)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=Le(m,u,d??this.service),y=Oo(Gt(e),{unhoistableHeaders:o});l.sessionToken&&(y.query[Yr]=l.sessionToken),y.query[fo]=Ne,y.query[ho]=`${l.accessKeyId}/${p}`,y.query[Zr]=h,y.query[po]=s.toString(10);const g=jt(y,i,a);return y.query[mo]=Wt(g),y.query[Jr]=await this.getSignature(h,p,this.getSigningKey(l,u,m,d),this.createCanonicalRequest(y,g,await He(e,this.sha256))),y}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:d}=we(n),l=Le(c,a,o??this.service),u=await He({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);const m=M(await h.digest()),p=[Ao,d,l,s,m,u].join(`
`);return this.signString(p,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=we(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(ce(e)),M(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),d=Gt(e),{longDate:l,shortDate:u}=we(r),h=Le(u,c,o??this.service);d.headers[tn]=l,a.sessionToken&&(d.headers[bo]=a.sessionToken);const m=await He(d,this.sha256);!Fo(Ve,d.headers)&&this.applyChecksum&&(d.headers[Ve]=m);const p=jt(d,s,n),y=await this.getSignature(l,h,this.getSigningKey(a,c,u,o),this.createCanonicalRequest(d,p,m));return d.headers[en]=`${Ne} Credential=${a.accessKeyId}/${h}, SignedHeaders=${Wt(p)}, Signature=${y}`,d}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Bo(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){const s=new this.sha256;s.update(ce(n));const i=await s.digest();return`${Ne}
${e}
${r}
${M(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return G(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s),o=new this.sha256(await n);return o.update(ce(i)),M(await o.digest())}getSigningKey(e,r,n,s){return ko(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const we=t=>{const e=$o(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},Wt=t=>Object.keys(t).sort().join(";"),_o=t=>{let e;t.credentials&&(e=eo(t.credentials,Yi,Qr)),e||(t.credentialDefaultProvider?e=ge(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t;let i;return t.signer?i=ge(t.signer):t.regionInfoProvider?i=()=>ge(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:c,signingService:d}=o;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;const l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},u=t.signerConstructor||Vt;return new u(l)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await ge(t.region)(),properties:{}},o);const a=o.signingRegion,c=o.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;const d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||Vt;return new l(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}},ne=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,Ci(t)},No=(t,e)=>wi(t,e).then(r=>e.utf8Encoder(r)),sn=(t,e)=>No(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Uo=async(t,e)=>{const r=await sn(t,e);return r.message=r.message??r.Message,r},Lo=(t,e)=>{const r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)},Ho=async(t,e,r)=>({operation:Te(e).operation,region:await V(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function jo(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}const zo=t=>{const e=[];switch(t.operation){default:e.push(jo(t))}return e},qo=t=>({..._o(t)}),Go=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"bedrock"}),Vo={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Wo="@aws-sdk/client-bedrock-runtime",Ko="AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native",Qo="3.629.0",Xo={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime"},Zo="./dist-cjs/index.js",Jo="./dist-types/index.d.ts",Yo="./dist-es/index.js",ea=!1,ta={"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.629.0","@aws-sdk/client-sts":"3.629.0","@aws-sdk/core":"3.629.0","@aws-sdk/credential-provider-node":"3.629.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.620.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.614.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.3.2","@smithy/eventstream-serde-browser":"^3.0.6","@smithy/eventstream-serde-config-resolver":"^3.0.3","@smithy/eventstream-serde-node":"^3.0.5","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.14","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.1.12","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.14","@smithy/util-defaults-mode-node":"^3.0.14","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-stream":"^3.1.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},ra={"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},na={node:">=16.0.0"},sa={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},ia=["dist-*/**"],oa={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},aa="Apache-2.0",ca={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},da="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime",ua={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-bedrock-runtime"},la={name:Wo,description:Ko,version:Qo,scripts:Xo,main:Zo,types:Jo,module:Yo,sideEffects:ea,dependencies:ta,devDependencies:ra,engines:na,typesVersions:sa,files:ia,author:oa,license:aa,browser:ca,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:da,repository:ua},fa=t=>new TextEncoder().encode(t);var ha=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:fa;function he(t){return t instanceof Uint8Array?t:typeof t=="string"?ha(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function We(t){return typeof t=="string"?t.length===0:t.byteLength===0}function ma(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var on={name:"SHA-256"},Kt={name:"HMAC",hash:on},pa=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const ga={};function xe(){return typeof window<"u"?window:typeof self<"u"?self:ga}var ya=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!We(e)){var r=he(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return xe().crypto.subtle.sign(Kt,r,e.toHash).then(function(n){return new Uint8Array(n)})}):We(this.toHash)?Promise.resolve(pa):Promise.resolve().then(function(){return xe().crypto.subtle.digest(on,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){xe().crypto.subtle.importKey("raw",he(e.secret),Kt,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t}();function wa(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{d(n.next(l))}catch(u){o(u)}}function c(l){try{d(n.throw(l))}catch(u){o(u)}}function d(l){l.done?i(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function ba(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function xa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $=64,Sa=32,Ea=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Aa=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],va=Math.pow(2,53)-1,Se=function(){function t(){this.state=Int32Array.from(Aa),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>va)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===$&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%$>=$-8){for(var s=this.bufferLength;s<$;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<$-8;s++)r.setUint8(s,0);r.setUint32($-8,Math.floor(e/4294967296),!0),r.setUint32($-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(Sa),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,s=n[0],i=n[1],o=n[2],a=n[3],c=n[4],d=n[5],l=n[6],u=n[7],h=0;h<$;h++){if(h<16)this.temp[h]=(r[h*4]&255)<<24|(r[h*4+1]&255)<<16|(r[h*4+2]&255)<<8|r[h*4+3]&255;else{var m=this.temp[h-2],p=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[h-15];var y=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[h]=(p+this.temp[h-7]|0)+(y+this.temp[h-16]|0)}var g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&l)|0)+(u+(Ea[h]+this.temp[h]|0)|0)|0,w=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;u=l,l=d,d=c,c=a+g|0,a=o,o=i,i=s,s=g+w|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=c,n[5]+=d,n[6]+=l,n[7]+=u},t}(),Ca=function(){function t(e){this.secret=e,this.hash=new Se,this.reset()}return t.prototype.update=function(e){if(!(We(e)||this.error))try{this.hash.update(he(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return wa(this,void 0,void 0,function(){return ba(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Se,this.secret){this.outer=new Se;var e=Ra(this.secret),r=new Uint8Array($);r.set(e);for(var n=0;n<$;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t}();function Ra(t){var e=he(t);if(e.byteLength>$){var r=new Se;r.update(e),e=r.digest()}var n=new Uint8Array($);return n.set(e),n}var ka=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Ba(t){if(Da(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return Ta(e)}return!1}function Da(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function Ta(t){return t&&ka.every(function(e){return typeof t[e]=="function"})}var Ma=function(){function t(e){Ba(xe())?this.hash=new ya(e):this.hash=new Ca(e)}return t.prototype.update=function(e,r){this.hash.update(he(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const Ia={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},an={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},A={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},D={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},z={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class f{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=f.getVersionPrecision(e),i=f.getVersionPrecision(r);let o=Math.max(s,i),a=0;const c=f.map([e,r],d=>{const l=o-f.getVersionPrecision(d),u=d+new Array(l+1).join(".0");return f.map(u.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return Ia[e]}static getBrowserTypeByAlias(e){return an[e]||""}}const E=/version\/(\d+(\.?_?\d+)+)/i,Fa=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=f.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=f.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=f.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=f.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=f.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=f.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=f.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=f.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=f.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=f.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=f.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=f.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=f.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=f.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=f.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=f.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=f.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=f.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=f.getFirstMatch(E,t)||f.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=f.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=f.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=f.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=f.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=f.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=f.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=f.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=f.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=f.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=f.getFirstMatch(E,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:f.getFirstMatch(s,t),version:f.getSecondMatch(s,t)}}}],Oa=[{test:[/Roku\/DVP/],describe(t){const e=f.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:D.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=f.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:D.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=f.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=f.getWindowsVersionName(e);return{name:D.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:D.iOS},r=f.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=f.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=f.getMacOSVersionName(e),n={name:D.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=f.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:D.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=f.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=f.getAndroidVersionName(e),n={name:D.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=f.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:D.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=f.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||f.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||f.getFirstMatch(/\bbb(\d+)/i,t);return{name:D.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=f.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:D.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=f.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:D.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:D.Linux}}},{test:[/CrOS/],describe(){return{name:D.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=f.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:D.PlayStation4,version:e}}}],$a=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=f.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:A.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:A.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:A.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:A.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:A.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:A.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:A.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=f.getFirstMatch(/(ipod|iphone)/i,t);return{type:A.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:A.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:A.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:A.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:A.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:A.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:A.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:A.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:A.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:A.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:A.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:A.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:A.tv}}}],Pa=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:z.Blink};const r=f.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:z.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:z.Trident},r=f.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:z.Presto},r=f.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:z.Gecko},r=f.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:z.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:z.WebKit},r=f.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Qt{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=f.find(Fa,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=f.find(Oa,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=f.find($a,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=f.find(Pa,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return f.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(s[a]=c,i+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=f.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const d=f.find(a,l=>this.isPlatform(l));if(d){const l=this.satisfies(r[d]);if(l!==void 0)return l}}if(i>0){const a=Object.keys(s),c=f.find(a,d=>this.isBrowser(d,!0));if(c!==void 0)return this.compareVersion(s[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=f.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(f.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class cn{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Qt(e,r)}static parse(e){return new Qt(e).getResult()}static get BROWSER_MAP(){return an}static get ENGINE_MAP(){return z}static get OS_MAP(){return D}static get PLATFORMS_MAP(){return A}}const _a=({serviceId:t,clientVersion:e})=>async()=>{var s,i,o,a,c;const r=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?cn.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${((i=r==null?void 0:r.os)==null?void 0:i.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((c=r==null?void 0:r.browser)==null?void 0:c.version)??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n};var dn=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=xa(e),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^Ua[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),Na=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Ua=ma(Na);class ue{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Xt(r),new ue(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Xt(e),parseInt(M(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Xt(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class La{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const i of Object.keys(e)){const o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(ue.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Qa.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const u=new Uint8Array(17);return u[0]=9,u.set(Hr(e.value.replace(/\-/g,"")),1),u}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const s=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[i]={type:Jt,value:!0};break;case 1:r[i]={type:Jt,value:!1};break;case 2:r[i]={type:Ha,value:e.getInt8(n++)};break;case 3:r[i]={type:ja,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:za,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:qa,value:new ue(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[i]={type:Ga,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[i]={type:Va,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:Wa,value:new Date(new ue(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:Ka,value:`${M(c.subarray(0,4))}-${M(c.subarray(4,6))}-${M(c.subarray(6,8))}-${M(c.subarray(8,10))}-${M(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Zt;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Zt||(Zt={}));const Jt="boolean",Ha="byte",ja="short",za="integer",qa="long",Ga="binary",Va="string",Wa="timestamp",Ka="uuid",Qa=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,un=4,q=un*2,X=4,Xa=q+X*2;function Za({byteLength:t,byteOffset:e,buffer:r}){if(t<Xa)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(un,!1),o=n.getUint32(q,!1),a=n.getUint32(t-X,!1),c=new dn().update(new Uint8Array(r,e,q));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+q,t-(q+X))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+q+X,i),body:new Uint8Array(r,e+q+X+i,s-i-(q+X+X))}}class Ja{constructor(e,r){this.headerMarshaller=new La(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new dn;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:r,body:n}=Za(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Ya{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class ec{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class tc{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class rc{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function nc(t){let e=0,r=0,n=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:c,done:d}=await a.next();if(d){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=c.length;let u=0;for(;u<l;){if(!n){const m=l-u;s||(s=new Uint8Array(4));const p=Math.min(4-r,m);if(s.set(c.slice(u,u+p),r),r+=p,u+=p,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const h=Math.min(e-r,l-u);n.set(c.slice(u,u+h),r),r+=h,u+=h,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function sc(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},o=await t(i);if(o.$unknown){const a=new Error(e(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let ic=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new Ja(e,r),this.utfEncoder=e}deserialize(e,r){const n=nc(e);return new tc({messageStream:new Ya({inputStream:n,decoder:this.eventStreamCodec}),deserializer:sc(r,this.utfEncoder)})}serialize(e,r){return new ec({messageStream:new rc({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const oc=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),ac=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await e.next();if(n)return r.close();r.enqueue(s)}})};class cc{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new ic({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=dc(e)?oc(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?ac(n):n}}const dc=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,uc=t=>new cc(t),lc=t=>()=>Promise.reject(t),Yt=typeof TextEncoder=="function"?new TextEncoder:null,fc=t=>{if(typeof t=="string"){if(Yt)return Yt.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},ln="required",L="fn",H="argv",se="ref",er=!0,tr="isSet",me="booleanEquals",J="error",oe="endpoint",B="tree",ot="PartitionResult",rr={[ln]:!1,type:"String"},nr={[ln]:!0,default:!1,type:"Boolean"},sr={[se]:"Endpoint"},fn={[L]:me,[H]:[{[se]:"UseFIPS"},!0]},hn={[L]:me,[H]:[{[se]:"UseDualStack"},!0]},U={},ir={[L]:"getAttr",[H]:[{[se]:ot},"supportsFIPS"]},or={[L]:me,[H]:[!0,{[L]:"getAttr",[H]:[{[se]:ot},"supportsDualStack"]}]},ar=[fn],cr=[hn],dr=[{[se]:"Region"}],hc={version:"1.0",parameters:{Region:rr,UseDualStack:nr,UseFIPS:nr,Endpoint:rr},rules:[{conditions:[{[L]:tr,[H]:[sr]}],rules:[{conditions:ar,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:J},{rules:[{conditions:cr,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:J},{endpoint:{url:sr,properties:U,headers:U},type:oe}],type:B}],type:B},{rules:[{conditions:[{[L]:tr,[H]:dr}],rules:[{conditions:[{[L]:"aws.partition",[H]:dr,assign:ot}],rules:[{conditions:[fn,hn],rules:[{conditions:[{[L]:me,[H]:[er,ir]},or],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:U,headers:U},type:oe}],type:B}],type:B},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:J}],type:B},{conditions:ar,rules:[{conditions:[{[L]:me,[H]:[ir,er]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:U,headers:U},type:oe}],type:B}],type:B},{error:"FIPS is enabled but this partition does not support FIPS",type:J}],type:B},{conditions:cr,rules:[{conditions:[or],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:U,headers:U},type:oe}],type:B}],type:B},{error:"DualStack is enabled but this partition does not support DualStack",type:J}],type:B},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:U,headers:U},type:oe}],type:B}],type:B}],type:B},{error:"Invalid Configuration: Missing Region",type:J}],type:B}]},mc=hc,pc=(t,e={})=>Jn(mc,{endpointParams:t,logger:e.logger});ve.aws=Dr;const gc=t=>({apiVersion:"2023-09-30",base64Decoder:(t==null?void 0:t.base64Decoder)??nt,base64Encoder:(t==null?void 0:t.base64Encoder)??Ur,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??pc,extensions:(t==null?void 0:t.extensions)??[],httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??zo,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new uo}],logger:(t==null?void 0:t.logger)??new _r,serviceId:(t==null?void 0:t.serviceId)??"Bedrock Runtime",urlParser:(t==null?void 0:t.urlParser)??Ce,utf8Decoder:(t==null?void 0:t.utf8Decoder)??te,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Nr}),yc=["in-region","cross-region","mobile","standard","legacy"],wc=({defaultsMode:t}={})=>lo(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(bc()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${yc.join(", ")}, got ${e}`)}}),bc=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?cn.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},xc=t=>{const e=wc(t),r=()=>e().then(Ti),n=gc(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??fc,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??_a({serviceId:n.serviceId,clientVersion:la.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??uc,maxAttempts:(t==null?void 0:t.maxAttempts)??Re,region:(t==null?void 0:t.region)??lc("Region is missing"),requestHandler:st.create((t==null?void 0:t.requestHandler)??r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||Ns),sha256:(t==null?void 0:t.sha256)??Ma,streamCollector:(t==null?void 0:t.streamCollector)??mi,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(us)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(ls))}},Sc=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},Ec=t=>({region:t.region()}),Ac=t=>{const e=t.httpAuthSchemes;let r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(o=>o.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},vc=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),be=t=>t,Cc=(t,e)=>{const r={...be(Sc(t)),...be($i(t)),...be(bn(t)),...be(Ac(t))};return e.forEach(n=>n.configure(r)),{...t,...Ec(r),...Pi(r),...xn(r),...vc(r)}};class Rc extends ai{constructor(...[e]){const r=xc(e||{}),n=Go(r),s=Fn(n),i=oi(s),o=fs(i),a=o,c=Is(a),d=no(c),l=qo(d),u=Cc(l,(e==null?void 0:e.extensions)||[]);super(u),this.config=u,this.middlewareStack.use(ds(this.config)),this.middlewareStack.use(Vi(this.config)),this.middlewareStack.use(oo(this.config)),this.middlewareStack.use(vn(this.config)),this.middlewareStack.use(kn(this.config)),this.middlewareStack.use(In(this.config)),this.middlewareStack.use(Os(this.config,{httpAuthSchemeParametersProvider:Ho,identityProviderConfigProvider:async h=>new Xi({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Qi(this.config))}destroy(){super.destroy()}}class T extends it{constructor(e){super(e),Object.setPrototypeOf(this,T.prototype)}}class at extends T{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,at.prototype)}}var ur;(function(t){t.visit=(e,r)=>e.text!==void 0?r.text(e.text):r._(e.$unknown[0],e.$unknown[1])})(ur||(ur={}));class ct extends T{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ct.prototype)}}class dt extends T{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,dt.prototype)}}class ut extends T{constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,ut.prototype)}}class lt extends T{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,lt.prototype)}}class ft extends T{constructor(e){super({name:"ValidationException",$fault:"client",...e}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,ft.prototype)}}var Ke;(function(t){t.visit=(e,r)=>e.bytes!==void 0?r.bytes(e.bytes):r._(e.$unknown[0],e.$unknown[1])})(Ke||(Ke={}));var lr;(function(t){t.visit=(e,r)=>e.text!==void 0?r.text(e.text):r._(e.$unknown[0],e.$unknown[1])})(lr||(lr={}));var Qe;(function(t){t.visit=(e,r)=>e.bytes!==void 0?r.bytes(e.bytes):r._(e.$unknown[0],e.$unknown[1])})(Qe||(Qe={}));var Xe;(function(t){t.visit=(e,r)=>e.json!==void 0?r.json(e.json):e.text!==void 0?r.text(e.text):e.image!==void 0?r.image(e.image):e.document!==void 0?r.document(e.document):r._(e.$unknown[0],e.$unknown[1])})(Xe||(Xe={}));var Ze;(function(t){t.visit=(e,r)=>e.text!==void 0?r.text(e.text):e.image!==void 0?r.image(e.image):e.document!==void 0?r.document(e.document):e.toolUse!==void 0?r.toolUse(e.toolUse):e.toolResult!==void 0?r.toolResult(e.toolResult):e.guardContent!==void 0?r.guardContent(e.guardContent):r._(e.$unknown[0],e.$unknown[1])})(Ze||(Ze={}));var fr;(function(t){t.visit=(e,r)=>e.text!==void 0?r.text(e.text):e.guardContent!==void 0?r.guardContent(e.guardContent):r._(e.$unknown[0],e.$unknown[1])})(fr||(fr={}));var hr;(function(t){t.visit=(e,r)=>e.auto!==void 0?r.auto(e.auto):e.any!==void 0?r.any(e.any):e.tool!==void 0?r.tool(e.tool):r._(e.$unknown[0],e.$unknown[1])})(hr||(hr={}));var Je;(function(t){t.visit=(e,r)=>e.json!==void 0?r.json(e.json):r._(e.$unknown[0],e.$unknown[1])})(Je||(Je={}));var Ye;(function(t){t.visit=(e,r)=>e.toolSpec!==void 0?r.toolSpec(e.toolSpec):r._(e.$unknown[0],e.$unknown[1])})(Ye||(Ye={}));var mr;(function(t){t.visit=(e,r)=>e.message!==void 0?r.message(e.message):r._(e.$unknown[0],e.$unknown[1])})(mr||(mr={}));class ht extends T{constructor(e){super({name:"ModelErrorException",$fault:"client",...e}),this.name="ModelErrorException",this.$fault="client",Object.setPrototypeOf(this,ht.prototype),this.originalStatusCode=e.originalStatusCode,this.resourceName=e.resourceName}}class mt extends T{constructor(e){super({name:"ModelNotReadyException",$fault:"client",...e}),this.name="ModelNotReadyException",this.$fault="client",Object.setPrototypeOf(this,mt.prototype)}}class pt extends T{constructor(e){super({name:"ModelTimeoutException",$fault:"client",...e}),this.name="ModelTimeoutException",this.$fault="client",Object.setPrototypeOf(this,pt.prototype)}}class gt extends T{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,gt.prototype)}}var pr;(function(t){t.visit=(e,r)=>e.text!==void 0?r.text(e.text):e.toolUse!==void 0?r.toolUse(e.toolUse):r._(e.$unknown[0],e.$unknown[1])})(pr||(pr={}));var gr;(function(t){t.visit=(e,r)=>e.toolUse!==void 0?r.toolUse(e.toolUse):r._(e.$unknown[0],e.$unknown[1])})(gr||(gr={}));class yt extends T{constructor(e){super({name:"ModelStreamErrorException",$fault:"client",...e}),this.name="ModelStreamErrorException",this.$fault="client",Object.setPrototypeOf(this,yt.prototype),this.originalStatusCode=e.originalStatusCode,this.originalMessage=e.originalMessage}}var yr;(function(t){t.visit=(e,r)=>e.messageStart!==void 0?r.messageStart(e.messageStart):e.contentBlockStart!==void 0?r.contentBlockStart(e.contentBlockStart):e.contentBlockDelta!==void 0?r.contentBlockDelta(e.contentBlockDelta):e.contentBlockStop!==void 0?r.contentBlockStop(e.contentBlockStop):e.messageStop!==void 0?r.messageStop(e.messageStop):e.metadata!==void 0?r.metadata(e.metadata):e.internalServerException!==void 0?r.internalServerException(e.internalServerException):e.modelStreamErrorException!==void 0?r.modelStreamErrorException(e.modelStreamErrorException):e.validationException!==void 0?r.validationException(e.validationException):e.throttlingException!==void 0?r.throttlingException(e.throttlingException):e.serviceUnavailableException!==void 0?r.serviceUnavailableException(e.serviceUnavailableException):r._(e.$unknown[0],e.$unknown[1])})(yr||(yr={}));var wr;(function(t){t.visit=(e,r)=>e.chunk!==void 0?r.chunk(e.chunk):e.internalServerException!==void 0?r.internalServerException(e.internalServerException):e.modelStreamErrorException!==void 0?r.modelStreamErrorException(e.modelStreamErrorException):e.validationException!==void 0?r.validationException(e.validationException):e.throttlingException!==void 0?r.throttlingException(e.throttlingException):e.modelTimeoutException!==void 0?r.modelTimeoutException(e.modelTimeoutException):e.serviceUnavailableException!==void 0?r.serviceUnavailableException(e.serviceUnavailableException):r._(e.$unknown[0],e.$unknown[1])})(wr||(wr={}));const kc=async(t,e)=>{const r=to(t,e),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse"),r.p("modelId",()=>t.modelId,"{modelId}",!1);let s;return s=JSON.stringify(b(t,{additionalModelRequestFields:i=>Me(i),additionalModelResponseFieldPaths:i=>k(i),guardrailConfig:i=>k(i),inferenceConfig:i=>Vc(i),messages:i=>Kc(i,e),system:i=>k(i),toolConfig:i=>Xc(i)})),r.m("POST").h(n).b(s),r.build()},Bc=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Dc(t,e);const r=O({$metadata:_(t)}),n=vi(qr(await sn(t.body,e)),"body"),s=b(n,{additionalModelResponseFields:i=>wt(i),metrics:k,output:i=>od(ne(i),e),stopReason:x,trace:i=>ad(i),usage:k});return Object.assign(r,s),r},Dc=async(t,e)=>{const r={...t,body:await Uo(t.body,e)},n=Lo(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await Mc(r);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await Ic(r);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await _c(r);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await Nc(r);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await Lc(r);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await Hc(r);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await Fc(r);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await Oc(r);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await Pc(r);case"ServiceUnavailableException":case"com.amazonaws.bedrockruntime#ServiceUnavailableException":throw await Uc(r);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await $c(r);default:const s=r.body;return Tc({output:t,parsedBody:s,errorCode:n})}},Tc=Bi(T),Mc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new at({$metadata:_(t),...r});return P(i,t.body)},Ic=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new ct({$metadata:_(t),...r});return P(i,t.body)},Fc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x,originalStatusCode:zr,resourceName:x});Object.assign(r,s);const i=new ht({$metadata:_(t),...r});return P(i,t.body)},Oc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new mt({$metadata:_(t),...r});return P(i,t.body)},$c=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x,originalMessage:x,originalStatusCode:zr});Object.assign(r,s);const i=new yt({$metadata:_(t),...r});return P(i,t.body)},Pc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new pt({$metadata:_(t),...r});return P(i,t.body)},_c=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new dt({$metadata:_(t),...r});return P(i,t.body)},Nc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new ut({$metadata:_(t),...r});return P(i,t.body)},Uc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new gt({$metadata:_(t),...r});return P(i,t.body)},Lc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new lt({$metadata:_(t),...r});return P(i,t.body)},Hc=async(t,e)=>{const r=O({}),n=t.body,s=b(n,{message:x});Object.assign(r,s);const i=new ft({$metadata:_(t),...r});return P(i,t.body)},jc=(t,e)=>Ze.visit(t,{document:r=>({document:mn(r,e)}),guardContent:r=>({guardContent:k(r)}),image:r=>({image:pn(r,e)}),text:r=>({text:r}),toolResult:r=>({toolResult:Jc(r,e)}),toolUse:r=>({toolUse:nd(r)}),_:(r,n)=>({name:n})}),zc=(t,e)=>t.filter(r=>r!=null).map(r=>jc(r,e)),mn=(t,e)=>b(t,{format:[],name:[],source:r=>qc(r,e)}),qc=(t,e)=>Ke.visit(t,{bytes:r=>({bytes:e.base64Encoder(r)}),_:(r,n)=>({name:n})}),pn=(t,e)=>b(t,{format:[],source:r=>Gc(r,e)}),Gc=(t,e)=>Qe.visit(t,{bytes:r=>({bytes:e.base64Encoder(r)}),_:(r,n)=>({name:n})}),Vc=(t,e)=>b(t,{maxTokens:[],stopSequences:k,temperature:_t,topP:_t}),Wc=(t,e)=>b(t,{content:r=>zc(r,e),role:[]}),Kc=(t,e)=>t.filter(r=>r!=null).map(r=>Wc(r,e)),Qc=(t,e)=>Ye.visit(t,{toolSpec:r=>({toolSpec:rd(r)}),_:(r,n)=>({name:n})}),Xc=(t,e)=>b(t,{toolChoice:k,tools:r=>td(r)}),Zc=(t,e)=>Je.visit(t,{json:r=>({json:Me(r)}),_:(r,n)=>({name:n})}),Jc=(t,e)=>b(t,{content:r=>ed(r,e),status:[],toolUseId:[]}),Yc=(t,e)=>Xe.visit(t,{document:r=>({document:mn(r,e)}),image:r=>({image:pn(r,e)}),json:r=>({json:Me(r)}),text:r=>({text:r}),_:(r,n)=>({name:n})}),ed=(t,e)=>t.filter(r=>r!=null).map(r=>Yc(r,e)),td=(t,e)=>t.filter(r=>r!=null).map(r=>Qc(r)),rd=(t,e)=>b(t,{description:[],inputSchema:r=>Zc(r),name:[]}),nd=(t,e)=>b(t,{input:r=>Me(r),name:[],toolUseId:[]}),Me=(t,e)=>t,sd=(t,e)=>t.document!=null?{document:gn(t.document,e)}:t.guardContent!=null?{guardContent:k(ne(t.guardContent))}:t.image!=null?{image:wn(t.image,e)}:x(t.text)!==void 0?{text:x(t.text)}:t.toolResult!=null?{toolResult:wd(t.toolResult,e)}:t.toolUse!=null?{toolUse:Sd(t.toolUse)}:{$unknown:Object.entries(t)[0]},id=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>sd(ne(n),e)),od=(t,e)=>t.message!=null?{message:yd(t.message,e)}:{$unknown:Object.entries(t)[0]},ad=(t,e)=>b(t,{guardrail:r=>pd(r)}),gn=(t,e)=>b(t,{format:x,name:x,source:r=>cd(ne(r),e)}),cd=(t,e)=>t.bytes!=null?{bytes:e.base64Decoder(t.bytes)}:{$unknown:Object.entries(t)[0]},yn=(t,e)=>b(t,{contentPolicy:k,contextualGroundingPolicy:r=>md(r),sensitiveInformationPolicy:k,topicPolicy:k,wordPolicy:k}),dd=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>yn(n)),ud=(t,e)=>Object.entries(t).reduce((r,[n,s])=>(s===null||(r[n]=dd(s)),r),{}),ld=(t,e)=>Object.entries(t).reduce((r,[n,s])=>(s===null||(r[n]=yn(s)),r),{}),fd=(t,e)=>b(t,{action:x,score:$t,threshold:$t,type:x}),hd=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>fd(n)),md=(t,e)=>b(t,{filters:r=>hd(r)}),pd=(t,e)=>b(t,{inputAssessment:r=>ld(r),modelOutput:k,outputAssessments:r=>ud(r)}),wn=(t,e)=>b(t,{format:x,source:r=>gd(ne(r),e)}),gd=(t,e)=>t.bytes!=null?{bytes:e.base64Decoder(t.bytes)}:{$unknown:Object.entries(t)[0]},yd=(t,e)=>b(t,{content:r=>id(r,e),role:x}),wd=(t,e)=>b(t,{content:r=>xd(r,e),status:x,toolUseId:x}),bd=(t,e)=>t.document!=null?{document:gn(t.document,e)}:t.image!=null?{image:wn(t.image,e)}:t.json!=null?{json:wt(t.json)}:x(t.text)!==void 0?{text:x(t.text)}:{$unknown:Object.entries(t)[0]},xd=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>bd(ne(n),e)),Sd=(t,e)=>b(t,{input:r=>wt(r),name:x,toolUseId:x}),wt=(t,e)=>t,_=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});class Ed extends jr.classBuilder().ep({...Vo}).m(function(e,r,n,s){return[Ts(n,this.serialize,this.deserialize),Ms(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","Converse",{}).n("BedrockRuntimeClient","ConverseCommand").f(void 0,void 0).ser(kc).de(Bc).build(){}const Ad="anthropic.claude-3-haiku-20240307-v1:0",vd="Give me an affirmation to boost my motivation today, telling me, Hongbo Wei, that I will become a world boxing champion, referencing plants, animals, or flowers by adding emojis. Don't show the prompt, only the quote. Do not add anything like Here is an affirmation... just return the affirmation alone",Cd=[{role:"user",content:[{text:vd}]}];async function br(){xr(!0),Rd();try{const e=(await Be.send(new Ed({modelId:Ad,messages:Cd}))).output.message.content[0].text;document.querySelector("#affirmation").innerHTML=e}catch(t){console.error(t),document.querySelector("#affirmation").innerHTML=t}xr(!1)}function Rd(){document.querySelector("#affirmation").innerHTML='<div class="loading-spinner"></div>'}function xr(t){const e=document.querySelector("#getNewAffirmation");e.disabled=t}kd();async function kd(){try{const e=await Dd();Be=await Bd(e),await br()}catch(e){console.error(e),document.querySelector("#affirmation").innerHTML=e}document.querySelector("#getNewAffirmation").addEventListener("click",br)}let Be=null;async function Bd(t){return Be=await new Rc({credentials:t.credentials,region:t.region}),Be}async function Dd(){return{region:"us-west-2",credentials:{accessKeyId:"xxxx",secretAccessKey:"xxxx",sessionToken:{}.VITE_AWS_SESSION_TOKEN}}}
